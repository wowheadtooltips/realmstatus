<div style="float:left;display:inline;padding-left:3px;">
	<% (97..122).to_a.each do |letter| %>
		<%= sort_first_character letter.chr %>
		&nbsp;|&nbsp;
	<% end %>
	<%= sort_first_character 'reset' %>&nbsp;
	<%= image_tag "spinner-search.gif", :align => "absmiddle", :border => 0, :id => "spinner-char", :style => "display:none;" %>
	<span id="updatewait" style="display:none;">Updating Realms...Please Wait...</span>
	<span id="doupdate">
		|&nbsp;<%= link_to_remote "Update Realms", {
			:update => "table", 
			:before => "jQuery('#spinner-char').show(); jQuery('#updatewait').show(); jQuery('#doupdate').hide();",
			:success => "jQuery('#spinner-char').hide(); jQuery('#updatewait').hide(); jQuery('#doupdate').show();",
			:url => {:controller => "status", :action => "index", :params => params.merge({:do => "update", :page => nil})}
		}, {:title => "Update Realm Status", :href => "#"} %>
	</span>
</div>
<div id="dosearch" style="float:right;display:inline;padding-right:3px;">
	<form name="sform" action="" method="post" style="display:inline;">
		<%= text_field_tag :query, params['query'], :size => 10, :id => 'query' %>
	</form>
	<%= image_tag("spinner-search.gif", :align => "absmiddle", :border => 0, :id => "spinner", :style => "display: none;" ) %>
</div>
<br />
<%= observe_field 'query', :frequency => 1, :update => 'table', :before => "jQuery('#spinner').show()", :success => "jQuery('#spinner').hide()", :url => {:action => 'index'}, :with => 'query' %>
<div class="filterform" align="left" style="display:block;padding-left:3px;margin-top:10px;margin-bottom:10px;">
	<fieldset style="padding-bottom:10px;">
		<legend>Filter Realms</legend>
			<form name="filterage" action="" method="post" style="display:inline;">
				<%= image_tag("spinner-search.gif", :align => "middle", :border => 0, :id => "spinner-type", :style => "display:none;") %>
				<%= select_tag "type", options_for_select(Realm.gettypes) %>&nbsp;&nbsp;
				<%= image_tag("spinner-search.gif", :align => "middle", :border => 0, :id => "spinner-pop", :style => "display:none;") %>
				<%= select_tag "pop", options_for_select(Realm::POPULATION) %>&nbsp;&nbsp;
				<%= image_tag("spinner-search.gif", :align => "middle", :border => 0, :id => "spinner-locale", :style => "display:none;") %>
				<%= select_tag "locale", options_for_select(Realm.getlocales) %>&nbsp;&nbsp;
			</form>
			<%= observe_field "type", :frequency => 2, :update => "table", :before => "jQuery('#spinner-type').show();", :success => "jQuery('#spinner-type').hide();", :url => {:controller => "status", :action => "index"}, :with => "type" %>
			<%= observe_field "pop", :frequency => 2, :update => "table", :before => "jQuery('#spinner-pop').show();", :success => "jQuery('#spinner-pop').hide();", :url => {:controller => "status", :action => "index"}, :with => "pop" %>
			<%= observe_field "locale", :frequency => 2, :update => "table", :before => "jQuery('#spinner-locale').show();", :success => "jQuery('#spinner-locale').hide();", :url => {:controller => "status", :action => "index"}, :with => "locale" %>
	</fieldset>
</div>
<div id="table">
	<%= render :partial => "realms_list" %>
</div>